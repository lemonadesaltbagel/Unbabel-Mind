'use client';
import { useRouter } from 'next/navigation';
import { useState } from 'react';
import { useAuth } from '@/contexts/AuthContext';
import { usePageTitle } from '@/utils/usePageTitle';
export default function LoginPage(){
usePageTitle('Unbebal Mind');const r=useRouter();const {login}=useAuth();const [e,setE]=useState('');const [p,setP]=useState('');const [l,setL]=useState(false);const [err,setErr]=useState('');const h=async()=>{if(!e||!p){setErr('Please fill in all fields');return;}setL(true);setErr('');try{await login(e,p);r.push('/dashboard');}catch(e:unknown){const m=e instanceof Error?e.message:'Login failed';setErr(m);}finally{setL(false);}};return(<main className="min-h-screen bg-black flex items-center justify-center"><div className="bg-gray-900 p-10 rounded-2xl shadow-xl w-full max-w-md"><h1 className="text-white text-3xl font-bold text-center mb-8">Sign In</h1>{err&&(<div className="bg-red-500 text-white p-3 rounded mb-4 text-center">{err}</div>)}<div className="space-y-4"><div><label className="block text-gray-300 mb-1">Email</label><input type="email" placeholder="Enter email" value={e} onChange={(e)=>setE(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={l}/></div><div><label className="block text-gray-300 mb-1">Password</label><input type="password" placeholder="Enter password" value={p} onChange={(e)=>setP(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={l}/></div></div><button onClick={h} disabled={l} className="w-full mt-6 bg-white text-black font-semibold py-2 rounded hover:bg-gray-200 transition disabled:opacity-50 disabled:cursor-not-allowed">{l?'Signing In...':'Sign In'}</button><p className="text-center text-sm text-gray-400 mt-4">Don&apos;t have an account?{" "}<button className="text-blue-400 underline hover:text-blue-300 transition" onClick={()=>r.push('/signup')}>Sign Up</button></p></div></main>);}
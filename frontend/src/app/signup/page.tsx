'use client';
import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { useAuth } from '@/contexts/AuthContext';
import { usePageTitle } from '@/utils/usePageTitle';
export default function SignUpPage(){
usePageTitle('Unbabel Mind');const r=useRouter();const {register}=useAuth();const [f,setF]=useState('');const [l,setL]=useState('');const [e,setE]=useState('');const [p,setP]=useState('');const [c,setC]=useState('');const [ld,setLd]=useState(false);const [err,setErr]=useState('');const h=async()=>{if(!f||!l||!e||!p||!c){setErr('Please fill in all fields');return;}if(p!==c){setErr('Passwords do not match');return;}if(p.length<6){setErr('Password must be at least 6 characters');return;}setLd(true);setErr('');try{await register({firstName:f,lastName:l,email:e,password:p});r.push('/dashboard');}catch(e:unknown){const m=e instanceof Error?e.message:'Registration failed';setErr(m);}finally{setLd(false);}};return(<main className="min-h-screen bg-black flex items-center justify-center"><div className="bg-gray-900 p-10 rounded-2xl shadow-xl w-full max-w-md"><h1 className="text-white text-3xl font-bold text-center mb-8">Sign Up</h1>{err&&(<div className="bg-red-500 text-white p-3 rounded mb-4 text-center">{err}</div>)}<div className="space-y-4"><div><label className="block text-gray-300 mb-1">First Name</label><input type="text" value={f} onChange={(e)=>setF(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={ld}/></div><div><label className="block text-gray-300 mb-1">Last Name</label><input type="text" value={l} onChange={(e)=>setL(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={ld}/></div><div><label className="block text-gray-300 mb-1">Email</label><input type="email" value={e} onChange={(e)=>setE(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={ld}/></div><div><label className="block text-gray-300 mb-1">Password</label><input type="password" value={p} onChange={(e)=>setP(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={ld}/></div><div><label className="block text-gray-300 mb-1">Confirm Password</label><input type="password" value={c} onChange={(e)=>setC(e.target.value)} className="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-white" disabled={ld}/></div></div><button onClick={h} disabled={ld} className="w-full mt-6 bg-white text-black font-semibold py-2 rounded hover:bg-gray-200 transition disabled:opacity-50 disabled:cursor-not-allowed">{ld?'Creating Account...':'Create Account'}</button><p className="text-center text-sm text-gray-400 mt-4">Already have an account?{" "}<button className="text-blue-400 underline hover:text-blue-300 transition" onClick={()=>r.push('/login')}>Sign In</button></p></div></main>);}